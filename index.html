<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>SE Reset Bookmarklet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Bookmarklet to reset the SE page cache by appending a url paramter.">
    <meta name="author" content="Dan Miller">

    <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 20px;
        padding-bottom: 40px;
      }

      /* Custom container */
      .container-narrow {
        margin: 0 auto;
        max-width: 700px;
      }
      .container-narrow > hr {
        margin: 30px 0;
      }

      /* Main marketing message and sign up button */
      .jumbotron {
        margin: 60px 0;
        text-align: center;
      }
      .jumbotron h1 {
        font-size: 72px;
        line-height: 1;
      }
      .jumbotron .btn {
        font-size: 21px;
        padding: 14px 24px;
      }

      /* Supporting marketing content */
      .marketing {
        margin: 60px 0;
      }
      .marketing p + h4 {
        margin-top: 28px;
      }
    </style>
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="ico/favicon.png">
  </head>

  <body>

    <div class="container-narrow">

      <div class="jumbotron">
        <h1>Tired of the site cache?</h1>
        <p class="lead">Well, today is your lucky day, friend!</p>
		<p>Just drag the following button into your toolbar for old fashioned javascript goodness.</p>
		<p>Just like mom used to make!</p>
        <a class="btn btn-large btn-success" href="javascript:var%20queryParameters%3D%7B%7D%2CqueryString%3Dlocation%2Esearch%2Esubstring%281%29%2Cre%3D%2F%28%5B%5E%26%3D%5D%2B%29%3D%28%5B%5E%26%5D%2A%29%2Fg%2Cm%2CnewQs%3D%22%3F%22%3Bwhile%28m%3Dre%2Eexec%28queryString%29%29%7BqueryParameters%5BdecodeURIComponent%28m%5B1%5D%29%5D%3DdecodeURIComponent%28m%5B2%5D%29%7DqueryParameters%5B%22seReset%22%5D%3D%28new%20Date%29%2EgetTime%28%29%3Bfor%28var%20i%20in%20queryParameters%29%7BnewQs%2B%3Di%2B%22%3D%22%2BqueryParameters%5Bi%5D%2B%22%26%22%7Dlocation%2Esearch%3DnewQs%3B">SE Reset</a>
      </div>

      <hr>
	  
	  <div class="row-fluid">
		
		<div class="span12">
			<p class="lead">Check out what famous people are saying</p>
		</div>
	</div>
	  
	  <div class="row-fluid">
		
		<div class="span6">
			    <blockquote>
				<p>"I ain't no computer hacker!"</p>
				<small>Mr. T</small>
				</blockquote>
		</div>
		<div class="span6">
			    <blockquote>
				<p>"I don't initiate violence, I retaliate."</p>
				<small>Chuck Norris</small>
				</blockquote>
		</div>
	  </div>
	  
	  <hr>

      <div class="row-fluid marketing">
        <div class="span6">
          <h4>Improve Your Stats</h4>
          <p>Now with a fully 46% more than 26% annually. That's down from last year-hold your applause.</p>
		  
		  <h4>How is a Raven</h4>
          <p>...like a writing desk? Heck if I know but neither of them use cool javascript bookmarklets.</p>
		  
        </div>

        <div class="span6">
		  <h4>Catch a Ride!</h4>
          <p>Enjoy the ride and there's a Pimento Taco--a Pimentaco--in the glove box.</p>
          
		  <h4>The Superior Choice</h4>
          <p>Choosy content editors choose SE Reset.</p>
        </div>
      </div>

      <hr>
	  
	  <div class="row-fluid">
		
		<h3>You want some source code?</h3>
		
		<pre>
var queryParameters = {}, 
queryString = location.search.substring(1),
re = /([^&=]+)=([^&]*)/g,
m,
newQs = '?'; 
while (m = re.exec(queryString)) { 
	queryParameters[decodeURIComponent(m[1])] = decodeURIComponent(m[2]);
} 
queryParameters['seReset'] = new Date().getTime();
for (var i in queryParameters) {
	newQs += i+'='+queryParameters[i]+'&';
}
location.search = newQs;
		</pre>
	  
	  </div>
	  
	  <hr>
	  
	  <div class="row-fluid">
		<h3>Version History</h3>
		    <dl class="dl-horizontal">
				<dt>2/14/2013</dt>
				<dd>Version 1.0</dd>
			</dl>
	  </div>
	  
	  <hr>

      <div class="footer">
        <p class="text-center">&copy; Dale Industries 2013 - <em>Dale with it</em></p>
      </div>

    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>